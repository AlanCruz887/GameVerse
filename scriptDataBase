-- Crear la base de datos
CREATE DATABASE Gameverse;

-- Usar la base de datos
USE Gameverse;

-- Crear la tabla de usuarios
CREATE TABLE Users (
    UserID INT PRIMARY KEY,
    Username VARCHAR(50) NOT NULL,
    Email VARCHAR(100) NOT NULL,
    Password VARCHAR(50) NOT NULL,
    RegistrationDate DATE
);

-- Crear la tabla de juegos
CREATE TABLE Games (
    GameID INT PRIMARY KEY,
    Title VARCHAR(100) NOT NULL,
    Description VARCHAR(MAX),
    Price DECIMAL(10, 2) NOT NULL,
    ReleaseDate DATE,
    Genre VARCHAR(50),
    Platform VARCHAR(50),
    Publisher VARCHAR(100)
);

-- Crear la tabla de compras
CREATE TABLE Purchases (
    PurchaseID INT PRIMARY KEY,
    UserID INT,
    GameID INT,
    PurchaseDate DATETIME,
    PayPalTransactionID VARCHAR(100),
    FOREIGN KEY (UserID) REFERENCES Users(UserID),
    FOREIGN KEY (GameID) REFERENCES Games(GameID)
);

-- Crear la tabla de transacciones
CREATE TABLE Transactions (
    TransactionID INT PRIMARY KEY,
    UserID INT,
    GameID INT,
    Amount DECIMAL(10, 2) NOT NULL,
    TransactionDate DATETIME,
    TransactionStatus VARCHAR(50),
    PayPalTransactionID VARCHAR(100),
    FOREIGN KEY (UserID) REFERENCES Users(UserID),
    FOREIGN KEY (GameID) REFERENCES Games(GameID)
);
